<html>
  <head>
  <meta charset="utf-8" />
  <meta http-equiv='X-UA-Compatible' content='IE=edge;chrome=1' />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Overthinkingly </title>
  <link href="../../stylesheets/style.css" rel="stylesheet" />
</head>
  <body class="tags tags_ops tags_ops_index">
    <h1>
      <a class='nav--home' href='/' title='home'/>unthinkingly</a>
    </h1>
    <main role="main">
          <h2 class="tag">4 posts about ops</h2>
    <article>
      <h2><a href="/2008/05/28/the-three-simplest-and-most-effective-anti-spam-hacks-i-have-ever-seen/">The Three Simplest and Most Effective Anti-Spam Hacks I Have Ever Seen</a> </h2>
      <span class='timestamp'> 
        May 28 2008
      </span>
      <p><strong>Hack zero: Switch to Gmail</strong>
This is not a joke: Gmail is a fantastic and nearly spam-free platform. Notably, you can hook it up with a custom domain name so no one knows you are part of the Goog machine like everyone else.</p>

<p><strong>Hack one: Greylisting with Postfix on Ubuntu</strong></p>

<blockquote>A mail transfer agent using greylisting will "temporarily reject" any email from a sender it does not recognize. If the mail is legitimate, the originating server will most likely try again to send it later, at which time the destination will accept it. <span class="attribution"><a href="http://en.wikipedia.org/wiki/Greylisting">Wikipedia: Greylisting</a></span></blockquote>

<p>Assuming that you have your own email server, <a href="http://postgrey.schweikert.ch/">greylisting</a> is genius. <a href="http://en.wikipedia.org/wiki/Greylisting">Diabolically elegant</a>, really. If you run an email server (or any server that can receive email) you are probably running the Postfix MTA, in which case their is a main configuration file appropriately named main.cf. A couple of edits to this file and you are on your way. </p>

<p>Here&#39;s how this setup looks (not my graph but I have definitely seen this happen on production mailservers):</p>

<p><img src="/images/mailgraph_greylisting.jpg" title="spam goes away" alt=" " /> </p>

<p>The really brilliant thing about greylisting is that it it deals with spam way before it ever reaches your inbox, which is the only way to go (I don&#39;t use any spam filtering on my mailbox. That&#39;s too late, especially from a sysadmin perspective (think of the <strike>children</strike> cycles!).</p>

<p>Step one: install postgrey.</p>

<p><code>apt-get install postgrey</code></p>

<p>Two: edit your main.cf file. </p>

<p><code>sudo vi /etc/postfix/main.cf</code></p>

<p>Three: Then open it up and look for your smtpd_restrictions; add the following line:</p>

<p><code>check<em>policy</em>service inet:127.0.0.1:60000 </code></p>

<p>Four: Reload Postfix</p>

<p><code>/etc/init.d/postfix reload</code></p>

<p><strong>Hack 2: DNS Blocklists</strong></p>

<p>This one is even easier, requiring only an extra line (for each blocklist). The blocklists are Just put it right there in that same block in main.cf. I typically use four of them. (Each has a slightly different purpose and tolerance. Check out the sites to get a flavor for why they exist.) This one is actually my favorite &mdash; it was created by the geek premier <a href="http://en.wikipedia.org/wiki/Paul_Vixie">Paul Vixie</a> and uses a <a href="http://en.wikipedia.org/wiki/DNSBL">DNS lookup</a> for an extraordinarily light overhead. </p>

<p>Step One: </p>

<p>Open your main.cf file again and add these lines:</p>

<pre>
  <code>
  reject_rbl_client list.dsbl.org,
  reject_rbl_client sbl.spamhaus.org,
  reject_rbl_client cbl.abuseat.org,
  reject_rbl_client dul.dnsbl.sorbs.net
  </code>
</pre>

<p>Then reboot Postfix: </p>

<p><code>/etc/init.d/postfix reload</code></p>

<p>As with the example above you will also want to watch your mail log to make sure nothings gone wrong. </p>

<p><code>sudo tail -f /var/log/maillog</code></p>

<p><strong>Hack 3: Keep Spammers out of Your Forms</strong></p>

<p>This is really the ideal place to stop spam: before it happens. There are a bazillion ways to prove that someone is a human (CAPTCHAs ... sigh), but I think it is instead better to put the burden on the bots. </p>

<p>Step one: 
Add a hidden field to your form. </p>

<p><code>&lt; textarea name=&quot;comment&quot; class=&quot;hidden&quot; &gt; </code></p>

<p>Step two: </p>

<p>In your handler, ignore anybody that filled out that form (as robots will do). Here&#39;s a fragment in php (assumes that the presence of a errors array will prevent submissions):</p>

<p><code>if (!empty($_REQUEST[&#39;comment&#39;])) { $errors[] = &quot;No Spam please.&quot;; }</code></p>

<p>Those are my favorites, let me know if you have any others!</p>

    </article>
    <article>
      <h2><a href="/2008/04/11/favorite-rails-tools/">Favorite Rails tools</a> </h2>
      <span class='timestamp'> 
        Apr 11 2008
      </span>
      <p>Next week I&#39;m sure Rails will be completely pass in favor of <a href="http://merbivore.com/">Merb</a> (managed by <a href="http://git.or.cz/">git</a>, of course). But for now, here&#39;s the stuff that makes me a happy programmer this weekend:
<ul></p>

<p><li><a href="http://rspec.info/">Rspec</a> With <a href="http://en.wikipedia.org/wiki/XPath">Xpath</a>.</li></p>

<p><li><a href="http://nubyonrails.com/articles/autotest-rails">Autotest/Zentest</a></li></p>

<p><li><a href="http://martinfowler.com/articles/continuousIntegration.html">Continuous Integration</a> (a  practice not an app.)</li></p>

<p><li><a href="http://cruisecontrolrb.thoughtworks.com/">CruiseControl.rb</a> (see <a href="http://selenium-on-rails.openqa.org/">this</a> for Rails).</li></p>

<p><li><a href="http://agilewebdevelopment.com/plugins/css_dryer">CSS Dryer</a>. Here&#39;s my <a href="/2007/12/16/the-future-of-css-here-its-just-not-evenly-distributed.html">last ramble</a> about server parsed CSS.</li>
</ul></p>

    </article>
    <article>
      <h2><a href="/2008/02/21/happy-hosting/">Happy Hosting </a> </h2>
      <span class='timestamp'> 
        Feb 21 2008
      </span>
      <p>If you need a professional application server, particularly for rails, I&#39;m recommending <a href="http://rimuhosting.com/">Rimuhost</a> these days. </p>

<p>Their VPS plans are a reasonable deal, but, as always, the support is what is always most important when choosing a host unless it&#39;s a super small static site, in which case the big guys like mediatemple, dreamhost, bluehost are fine. (Oh and check wordpress.com if you need a free site.)</p>

<p>Just now I&#39;ve been getting really clear, friendly, (and super fast) support from Brandon at Rimuhost, and he showed me a great trick for removing a password from a ssl cert: </p>

<p><code>
cd /usr/local/apache2/conf/ssl &amp;&amp; mv sitename.com.key sitename.com.key.with<em>password
openssl rsa -in sitename.com.key.with</em>password -out sitename.com.key
</code></p>

<p>Previously one of their techs was chatting to me well into the evening about a SQL issue I was having, free of charge, <em>after he got off of work</em>, just cause he was cool. and I love their VPS control panel, which lets you reboot, power down, and upgrade your RAM/HDD on the fly.</p>

<p>If you need a development and production box, they will clone your production VPS (for free), in under an hour. Fastest demo box I&#39;ve ever set up!</p>

    </article>
    <article>
      <h2><a href="/2007/02/06/whos-linking-to-me-new-tools/">Who's linking to our website? New tools.</a> </h2>
      <span class='timestamp'> 
        Feb  6 2007
      </span>
      <p><span class="update">
<strong>6/25/07 UPDATE: I am obligated to point out that this little script has graduated from interesting to useless &mdash; thanks to the new <a href="http://www.google.com/analytics/#utm_source=en-ha-na-synsearch_brand&utm_medium=ha&utm_campaign=en&utm_term=google%20analytics">Google Analytics</a>, which is hands down the best tool for understanding web traffic. And it&#39;s bloody free. You probably knew this already. But, just in case, <a href="http://www.wildapricot.com/blogs/newsblog/archive/2007/06/21/how-to-use-google-analytics-to-track-your-top-blog-posts.aspx">here&#39;s a great new tutorial</a>. That is all. 
</strong></span></p>

<p>It is a pretty basic trick to get an idea of people that are linking to your site. Just google:
<code>
link:<a href="http://mysite.com">http://mysite.com</a>
</code></p>

<p>But that is an extremely rudimentary technique for several reasons.
<ul>
    <li>You will probably get a bunch of <em>internal</em> links, which are pretty useless.</li>
    <li>You will not get a sense of the total number of links from each referrer — they are not tallied or ranked.</li>
    <li>You only get referrers for the individual page you type in, not your entire site. Which means that you are getting largely underreported numbers. (even <a href="http://www.yoursite.com">http://www.yoursite.com</a> is different from <a href="http://yoursite.com">http://yoursite.com</a>)</li>
</ul>
<blockquote>You asked, and we listened: We&#39;ve extended our support for querying links to your site to much beyond the link: operator you might have used in the past. Now you can use webmaster tools to view a much larger sample of links to pages on your site that we found on the web. Unlike the link: operator, this data is much more comprehensive and can be classified, filtered, and downloaded. All you need to do is verify site ownership to see this information.<span class="attribution"> Peeyush, <a href="http://googlewebmastercentral.blogspot.com/">Google Webmaster Central Blog</a> </span></blockquote>
So yesterday I was super happy to discover via the trusty <a href="http://googlewebmastercentral.blogspot.com/">Google Webmaster Central Blog</a> that there is a new &quot;links view&quot; in the Webmaster Toolkit.</p>

<p>The Webmaster Toolkit is a service from Google that you really should be using. It takes just a few minutes to get started and then you get lots of data, including the new link data. If you haven&#39;t already (and, uh, you run a website), <a href="https://www.google.com/webmasters/tools/siteoverview">check it out</a> and you will be happy to pick up a bunch of free statistics about your site. Notably, you can also create an XML sitemap (not a graphical HTML sitemap, though!) of your site to make sure google is indexing the whole thing. And you can test your robots.txt file (important for keeping those pictures of the last drunken staff party out of images.google.com).</p>

<p>I did have a couple of problems with the data, though &mdash; there still is no way to get a good ranking of your referrers, or a ranking of your most popular pages. Luckily, you can download the entire file and do whatever you want with it. (hooray for openness!)</p>

<p>Since we have a bunch of clients I wanted to send this new data, I took the time to write a simple perl script. And I figured a few other people could use it.</p>

<p>It&#39;s here:</p>

<p>[unique_addresses.pl.txt]</p>

<h3>Instructions for unique_addresses.pl</h3>

<p><strong>Prerequisites: Using this script requires that you know how to execute file from the command line (and that you have perl installed). This will only work for Mac/Linux folks (requires perl and the *nix commands for sorting). ... If you are a progressive blogger or organization and can&#39;t get this to work, email me your stats and I will process them for you.</strong>
<ol>
    <li>Download your entire external links file from the webmaster toolkit.</li>
    <li>Use Excel or something to pull out that column of external links, and save this as something like &quot;referrers.txt&quot;</li>
    <li>Repeat the above for your &quot;pages&quot; column, but name it something like &quot;pages.txt&quot;</li>
    <li>Download script.</li>
    <li>Make it excutable in the same directory as your &quot;pages.txt&quot; and &quot;referrers.txt&quot; files</li>
    <li>Run &quot;./unique_addresses.pl&quot; and it will prompt you through the rest.</li>
</ol></p>

<p><strong> Again, if you are working for a good cause but run into trouble, just email chris at blast dot com or leave a comment.</strong></p>

    </article>

    </main>
    <nav>
      <div class="section--posts-by-tag">
  <ul class="tags">  
        <li class='activism medium'>
          <a title="4 with this tag" href="/tags/activism/">activism</a>
        </li>
        <li class='africa medium'>
          <a title="5 with this tag" href="/tags/africa/">africa</a>
        </li>
        <li class='blogging heavy'>
          <a title="9 with this tag" href="/tags/blogging/">blogging</a>
        </li>
        <li class='censorship medium'>
          <a title="5 with this tag" href="/tags/censorship/">censorship</a>
        </li>
        <li class='code medium'>
          <a title="7 with this tag" href="/tags/code/">code</a>
        </li>
        <li class='community medium'>
          <a title="6 with this tag" href="/tags/community/">community</a>
        </li>
        <li class='crisis heavy'>
          <a title="9 with this tag" href="/tags/crisis/">crisis</a>
        </li>
        <li class='css medium'>
          <a title="4 with this tag" href="/tags/css/">css</a>
        </li>
        <li class='delicious medium'>
          <a title="6 with this tag" href="/tags/delicious/">delicious</a>
        </li>
        <li class='design heavy'>
          <a title="37 with this tag" href="/tags/design/">design</a>
        </li>
        <li class='education heavy'>
          <a title="16 with this tag" href="/tags/education/">education</a>
        </li>
        <li class='evaluation medium'>
          <a title="6 with this tag" href="/tags/evaluation/">evaluation</a>
        </li>
        <li class='freespeech medium'>
          <a title="4 with this tag" href="/tags/freespeech/">freespeech</a>
        </li>
        <li class='geo heavy'>
          <a title="10 with this tag" href="/tags/geo/">geo</a>
        </li>
        <li class='google medium'>
          <a title="7 with this tag" href="/tags/google/">google</a>
        </li>
        <li class='ict4d medium'>
          <a title="8 with this tag" href="/tags/ict4d/">ict4d</a>
        </li>
        <li class='katrina medium'>
          <a title="4 with this tag" href="/tags/katrina/">katrina</a>
        </li>
        <li class='linux medium'>
          <a title="7 with this tag" href="/tags/linux/">linux</a>
        </li>
        <li class='meedan medium'>
          <a title="5 with this tag" href="/tags/meedan/">meedan</a>
        </li>
        <li class='meta medium'>
          <a title="6 with this tag" href="/tags/meta/">meta</a>
        </li>
        <li class='mobile medium'>
          <a title="8 with this tag" href="/tags/mobile/">mobile</a>
        </li>
        <li class='nptech heavy'>
          <a title="33 with this tag" href="/tags/nptech/">nptech</a>
        </li>
        <li class='opensource medium'>
          <a title="5 with this tag" href="/tags/opensource/">opensource</a>
        </li>
        <li class='ops medium'>
          <a title="4 with this tag" href="/tags/ops/">ops</a>
        </li>
        <li class='podcasting medium'>
          <a title="4 with this tag" href="/tags/podcasting/">podcasting</a>
        </li>
        <li class='research heavy'>
          <a title="9 with this tag" href="/tags/research/">research</a>
        </li>
        <li class='social medium'>
          <a title="5 with this tag" href="/tags/social/">social</a>
        </li>
        <li class='tagging medium'>
          <a title="8 with this tag" href="/tags/tagging/">tagging</a>
        </li>
        <li class='technology medium'>
          <a title="5 with this tag" href="/tags/technology/">technology</a>
        </li>
        <li class='ux heavy'>
          <a title="12 with this tag" href="/tags/ux/">ux</a>
        </li>
        <li class='video medium'>
          <a title="5 with this tag" href="/tags/video/">video</a>
        </li>
        <li class='webdev heavy'>
          <a title="20 with this tag" href="/tags/webdev/">webdev</a>
        </li>
  </ul>
</div>
    </nav>
  </body>
</html>
