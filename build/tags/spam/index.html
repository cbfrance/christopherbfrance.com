<html>
  <head>
  <meta charset="utf-8" />
  <meta http-equiv='X-UA-Compatible' content='IE=edge;chrome=1' />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Overthinkingly </title>
  <link href="../../stylesheets/style.css" rel="stylesheet" />
</head>
  <body class="tags tags_spam tags_spam_index">
    <h1>
      <a class='nav--home' href='/' title='home'/>unthinkingly</a>
    </h1>
    <main role="main">
          <h2 class="tag">1 posts about spam</h2>
    <article>
      <h2><a href="/2008/05/28/the-three-simplest-and-most-effective-anti-spam-hacks-i-have-ever-seen/">The Three Simplest and Most Effective Anti-Spam Hacks I Have Ever Seen</a> </h2>
      <span class='timestamp'> 
        May 28 2008
      </span>
      <p><strong>Hack zero: Switch to Gmail</strong>
This is not a joke: Gmail is a fantastic and nearly spam-free platform. Notably, you can hook it up with a custom domain name so no one knows you are part of the Goog machine like everyone else.</p>

<p><strong>Hack one: Greylisting with Postfix on Ubuntu</strong></p>

<blockquote>A mail transfer agent using greylisting will "temporarily reject" any email from a sender it does not recognize. If the mail is legitimate, the originating server will most likely try again to send it later, at which time the destination will accept it. <span class="attribution"><a href="http://en.wikipedia.org/wiki/Greylisting">Wikipedia: Greylisting</a></span></blockquote>

<p>Assuming that you have your own email server, <a href="http://postgrey.schweikert.ch/">greylisting</a> is genius. <a href="http://en.wikipedia.org/wiki/Greylisting">Diabolically elegant</a>, really. If you run an email server (or any server that can receive email) you are probably running the Postfix MTA, in which case their is a main configuration file appropriately named main.cf. A couple of edits to this file and you are on your way. </p>

<p>Here&#39;s how this setup looks (not my graph but I have definitely seen this happen on production mailservers):</p>

<p><img src="/images/mailgraph_greylisting.jpg" title="spam goes away" alt=" " /> </p>

<p>The really brilliant thing about greylisting is that it it deals with spam way before it ever reaches your inbox, which is the only way to go (I don&#39;t use any spam filtering on my mailbox. That&#39;s too late, especially from a sysadmin perspective (think of the <strike>children</strike> cycles!).</p>

<p>Step one: install postgrey.</p>

<p><code>apt-get install postgrey</code></p>

<p>Two: edit your main.cf file. </p>

<p><code>sudo vi /etc/postfix/main.cf</code></p>

<p>Three: Then open it up and look for your smtpd_restrictions; add the following line:</p>

<p><code>check<em>policy</em>service inet:127.0.0.1:60000 </code></p>

<p>Four: Reload Postfix</p>

<p><code>/etc/init.d/postfix reload</code></p>

<p><strong>Hack 2: DNS Blocklists</strong></p>

<p>This one is even easier, requiring only an extra line (for each blocklist). The blocklists are Just put it right there in that same block in main.cf. I typically use four of them. (Each has a slightly different purpose and tolerance. Check out the sites to get a flavor for why they exist.) This one is actually my favorite &mdash; it was created by the geek premier <a href="http://en.wikipedia.org/wiki/Paul_Vixie">Paul Vixie</a> and uses a <a href="http://en.wikipedia.org/wiki/DNSBL">DNS lookup</a> for an extraordinarily light overhead. </p>

<p>Step One: </p>

<p>Open your main.cf file again and add these lines:</p>

<pre>
  <code>
  reject_rbl_client list.dsbl.org,
  reject_rbl_client sbl.spamhaus.org,
  reject_rbl_client cbl.abuseat.org,
  reject_rbl_client dul.dnsbl.sorbs.net
  </code>
</pre>

<p>Then reboot Postfix: </p>

<p><code>/etc/init.d/postfix reload</code></p>

<p>As with the example above you will also want to watch your mail log to make sure nothings gone wrong. </p>

<p><code>sudo tail -f /var/log/maillog</code></p>

<p><strong>Hack 3: Keep Spammers out of Your Forms</strong></p>

<p>This is really the ideal place to stop spam: before it happens. There are a bazillion ways to prove that someone is a human (CAPTCHAs ... sigh), but I think it is instead better to put the burden on the bots. </p>

<p>Step one: 
Add a hidden field to your form. </p>

<p><code>&lt; textarea name=&quot;comment&quot; class=&quot;hidden&quot; &gt; </code></p>

<p>Step two: </p>

<p>In your handler, ignore anybody that filled out that form (as robots will do). Here&#39;s a fragment in php (assumes that the presence of a errors array will prevent submissions):</p>

<p><code>if (!empty($_REQUEST[&#39;comment&#39;])) { $errors[] = &quot;No Spam please.&quot;; }</code></p>

<p>Those are my favorites, let me know if you have any others!</p>

    </article>

    </main>
    <nav>
      <div class="section--posts-by-tag">
  <ul class="tags">  
        <li class='activism medium'>
          <a title="4 with this tag" href="/tags/activism/">activism</a>
        </li>
        <li class='africa medium'>
          <a title="5 with this tag" href="/tags/africa/">africa</a>
        </li>
        <li class='blogging heavy'>
          <a title="9 with this tag" href="/tags/blogging/">blogging</a>
        </li>
        <li class='censorship medium'>
          <a title="5 with this tag" href="/tags/censorship/">censorship</a>
        </li>
        <li class='code medium'>
          <a title="7 with this tag" href="/tags/code/">code</a>
        </li>
        <li class='community medium'>
          <a title="6 with this tag" href="/tags/community/">community</a>
        </li>
        <li class='crisis heavy'>
          <a title="9 with this tag" href="/tags/crisis/">crisis</a>
        </li>
        <li class='css medium'>
          <a title="4 with this tag" href="/tags/css/">css</a>
        </li>
        <li class='delicious medium'>
          <a title="6 with this tag" href="/tags/delicious/">delicious</a>
        </li>
        <li class='design heavy'>
          <a title="37 with this tag" href="/tags/design/">design</a>
        </li>
        <li class='education heavy'>
          <a title="16 with this tag" href="/tags/education/">education</a>
        </li>
        <li class='evaluation medium'>
          <a title="6 with this tag" href="/tags/evaluation/">evaluation</a>
        </li>
        <li class='freespeech medium'>
          <a title="4 with this tag" href="/tags/freespeech/">freespeech</a>
        </li>
        <li class='geo heavy'>
          <a title="10 with this tag" href="/tags/geo/">geo</a>
        </li>
        <li class='google medium'>
          <a title="7 with this tag" href="/tags/google/">google</a>
        </li>
        <li class='ict4d medium'>
          <a title="8 with this tag" href="/tags/ict4d/">ict4d</a>
        </li>
        <li class='katrina medium'>
          <a title="4 with this tag" href="/tags/katrina/">katrina</a>
        </li>
        <li class='linux medium'>
          <a title="7 with this tag" href="/tags/linux/">linux</a>
        </li>
        <li class='meedan medium'>
          <a title="5 with this tag" href="/tags/meedan/">meedan</a>
        </li>
        <li class='meta medium'>
          <a title="6 with this tag" href="/tags/meta/">meta</a>
        </li>
        <li class='mobile medium'>
          <a title="8 with this tag" href="/tags/mobile/">mobile</a>
        </li>
        <li class='nptech heavy'>
          <a title="33 with this tag" href="/tags/nptech/">nptech</a>
        </li>
        <li class='opensource medium'>
          <a title="5 with this tag" href="/tags/opensource/">opensource</a>
        </li>
        <li class='ops medium'>
          <a title="4 with this tag" href="/tags/ops/">ops</a>
        </li>
        <li class='podcasting medium'>
          <a title="4 with this tag" href="/tags/podcasting/">podcasting</a>
        </li>
        <li class='research heavy'>
          <a title="9 with this tag" href="/tags/research/">research</a>
        </li>
        <li class='social medium'>
          <a title="5 with this tag" href="/tags/social/">social</a>
        </li>
        <li class='tagging medium'>
          <a title="8 with this tag" href="/tags/tagging/">tagging</a>
        </li>
        <li class='technology medium'>
          <a title="5 with this tag" href="/tags/technology/">technology</a>
        </li>
        <li class='ux heavy'>
          <a title="12 with this tag" href="/tags/ux/">ux</a>
        </li>
        <li class='video medium'>
          <a title="5 with this tag" href="/tags/video/">video</a>
        </li>
        <li class='webdev heavy'>
          <a title="20 with this tag" href="/tags/webdev/">webdev</a>
        </li>
  </ul>
</div>
    </nav>
  </body>
</html>
